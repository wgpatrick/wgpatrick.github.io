---
layout: page
title: Projects
permalink: /projects/
---

<div class="projects-container">
  <div class="projects-nav">
    <a href="#product" class="nav-link">Product</a>
    <a href="#art-design" class="nav-link">Art & Design</a>
    <a href="#structural" class="nav-link">Structural</a>
    <a href="#research" class="nav-link">Research</a>
  </div>

  <!-- Product Section -->
  <section id="product" class="project-section">
    <h2>Product</h2>

    <!-- Stratyx 250 -->
    <article class="project-entry">
      <div class="project-header" onclick="toggleProject(this)">
        <div class="header-content">
          <img src="/assets/images/projects/stratyx/stratyx-01.jpg" alt="Stratyx Preview" class="project-thumbnail">
          <div>
            <h3>Stratyx 250</h3>
            <div class="project-meta">Culture Biosciences • 2023-2025</div>
          </div>
        </div>
        <span class="expand-button">+</span>
      </div>
      
      <div class="project-content">
        <p>The Stratyx 250 was developed in response to consistent customer requests to purchase the bioreactor technology we had built for Culture's cloud bioreactor service. Development began in late 2023, with customer launch planned for 2025. The system's key innovation is its cloud connectivity, enabling remote control of bioprocesses and data access from any device—a significant departure from traditional systems that require on-site operation. Each unit ships with access to Console, our comprehensive bioprocess data management and analysis platform. Designed with rapid deployment in mind, the skid-mounted system helps fast-growing biotech companies quickly scale their operations without the lengthy installation times typical of traditional bioreactor systems.</p>
        
        <div class="carousel">
          <div class="carousel-container">
            <figure class="carousel-slide">
              <img src="/assets/images/projects/stratyx/stratyx-01.jpg" alt="Stratyx 250 System" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/stratyx/stratyx-02.jpg" alt="Stratyx Interface" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/stratyx/stratyx-03.jpg" alt="Stratyx Detail" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/stratyx/stratyx-04.jpg" alt="Stratyx Installation" class="carousel-image" />
            </figure>
          </div>
          <button class="carousel-button prev" onclick="moveCarousel(-1, this)">❮</button>
          <button class="carousel-button next" onclick="moveCarousel(1, this)">❯</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </article>

    <!-- Cloud Bioreactor Service -->
    <article class="project-entry">
      <div class="project-header" onclick="toggleProject(this)">
        <div class="header-content">
          <img src="/assets/images/projects/cloud-bioreactor/cloud-bioreactor-01.jpg" alt="Cloud Bioreactor Preview" class="project-thumbnail">
          <div>
            <h3>Cloud Bioreactor Service</h3>
            <div class="project-meta">Culture Biosciences • 2018-2024</div>
          </div>
        </div>
        <span class="expand-button">+</span>
      </div>
      
      <div class="project-content">
        <p>Pioneered a "cloud biomanufacturing" platform that enables biotech companies to run their bioprocess experiments remotely, similar to how cloud computing allows companies to deploy code without building their own data centers. Since launching with four prototype bioreactors in late 2017, the service has grown to include over 200 small-scale 250mL bioreactors and custom-built 5L systems for larger-scale processes. The platform has supported over 75 companies, ranging from synthetic biology startups to large pharmaceutical firms, and successfully cultured hundreds of different organisms, including CHO cells, HEK cells producing AAVs, filamentous fungi, E. coli, and soil bacteria. Over time, we developed Console, a comprehensive software platform providing real-time access to experimental data and advanced analysis tools, making bioprocess development more accessible and efficient than ever before.</p>
        
        <div class="carousel">
          <div class="carousel-container">
            <figure class="carousel-slide">
              <img src="/assets/images/projects/cloud-bioreactor/cloud-bioreactor-01.jpg" alt="Cloud Bioreactor Facility" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/cloud-bioreactor/cloud-bioreactor-02.jpg" alt="Cloud Interface" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/cloud-bioreactor/cloud-bioreactor-03.jpg" alt="Automation Systems" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/cloud-bioreactor/cloud-bioreactor-04.jpg" alt="Bioreactor Detail" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/cloud-bioreactor/cloud-bioreactor-05.jpg" alt="Laboratory Setup" class="carousel-image" />
            </figure>
          </div>
          <button class="carousel-button prev" onclick="moveCarousel(-1, this)">❮</button>
          <button class="carousel-button next" onclick="moveCarousel(1, this)">❯</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </article>

    <!-- Wing -->
    <article class="project-entry">
      <div class="project-header" onclick="toggleProject(this)">
        <div class="header-content">
          <img src="/assets/images/projects/wing/wing-01.jpg" alt="Wing Preview" class="project-thumbnail">
          <div>
            <h3>Wing</h3>
            <div class="project-meta">X, Alphabet • 2012-2013</div>
          </div>
        </div>
        <span class="expand-button">+</span>
      </div>
      
      <div class="project-content">
        <p>As a Rapid Evaluator at Google[x], I explored the potential of autonomous aerial vehicles for ultra-rapid package delivery, with a focus on emergency medical applications such as delivering automated external defibrillators (AEDs) during cardiac emergencies. Through iterative prototyping and testing, I developed a winching system for ground delivery that was subsequently implemented in the aircraft design. This work contributed to the early development of what would become Wing, Alphabet's autonomous delivery drone service.</p>
        
        <div class="carousel">
          <div class="carousel-container">
            <figure class="carousel-slide">
              <img src="/assets/images/projects/wing/wing-01.jpg" alt="Wing Prototype" class="carousel-image">
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/wing/wing-02.jpg" alt="Design Process" class="carousel-image">
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/wing/wing-03.jpg" alt="Testing" class="carousel-image">
            </figure>
          </div>
          <button class="carousel-button prev" onclick="moveCarousel(-1, this)">❮</button>
          <button class="carousel-button next" onclick="moveCarousel(1, this)">❯</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </article>
  </section>

  <!-- Art & Design Section -->
  <section id="art-design" class="project-section">
    <h2>Art & Design</h2>

    <!-- Bad Hatter -->
    <article class="project-entry">
      <div class="project-header" onclick="toggleProject(this)">
        <div class="header-content">
          <img src="/assets/images/projects/bad-hatter/bad-hatter-01.jpg" alt="Bad Hatter Preview" class="project-thumbnail">
          <div>
            <h3>Bad Hatter</h3>
            <div class="project-meta">Burning Man • 2024</div>
          </div>
        </div>
        <span class="expand-button">+</span>
      </div>
      
      <div class="project-content">
        <p>The Bad Hatter is an interactive art installation created for Burning Man 2024 led by artists Winslow Porter and Neil Mendoza. The piece features a giant illuminated hat with over 3,000 LEDs, interactive shock sensors, and an integrated drum machine. When participants touch the electrified (and safe) brim of the hat, their reactions become part of a dynamic musical composition. I led the structural design and engineering of the installation, which needed to withstand harsh desert conditions while housing complex electronics, ventilation systems, and mechanical components. The project received an official Burning Man Art Honorarium and was installed on the playa in August 2024.</p>
        
        <div class="carousel">
          <div class="carousel-container">
            <figure class="carousel-slide">
              <img src="/assets/images/projects/bad-hatter/bad-hatter-01.jpg" alt="Bad Hatter Installation" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/bad-hatter/bad-hatter-02.jpg" alt="Bad Hatter Construction" class="carousel-image" />
            </figure>
          </div>
          <button class="carousel-button prev" onclick="moveCarousel(-1, this)">❮</button>
          <button class="carousel-button next" onclick="moveCarousel(1, this)">❯</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </article>

    <!-- Farma -->
    <article class="project-entry">
      <div class="project-header" onclick="toggleProject(this)">
        <div class="header-content">
          <img src="/assets/images/projects/farma/farma-01.jpg" alt="Farma Preview" class="project-thumbnail">
          <div>
            <h3>Farma</h3>
            <div class="project-meta">Autodesk Artist in Residence • 2015</div>
          </div>
        </div>
        <span class="expand-button">+</span>
      </div>
      
      <div class="project-content">
        <p>A speculative design project exploring the future of personal pharmaceutical production. Farma reimagines drug manufacturing through the lens of domestic appliances, questioning the boundaries between industrial and personal production.</p>
        
        <div class="carousel">
          <div class="carousel-container">
            <figure class="carousel-slide">
              <img src="/assets/images/projects/farma/farma-01.jpg" alt="Farma Device Overview" class="carousel-image">
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/farma/farma-02.jpg" alt="Farma Interface" class="carousel-image">
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/farma/farma-03.jpg" alt="Farma Components" class="carousel-image">
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/farma/farma-04.jpg" alt="Farma Process" class="carousel-image">
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/farma/farma-05.jpg" alt="Farma Detail" class="carousel-image">
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/farma/farma-06.jpg" alt="Farma Installation" class="carousel-image">
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/farma/farma-07.jpg" alt="Farma Context" class="carousel-image">
            </figure>
          </div>
          <button class="carousel-button prev" onclick="moveCarousel(-1, this)">❮</button>
          <button class="carousel-button next" onclick="moveCarousel(1, this)">❯</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </article>

    <!-- Mushtari -->
    <article class="project-entry">
      <div class="project-header" onclick="toggleProject(this)">
        <div class="header-content">
          <img src="/assets/images/projects/mushtari/mushtari-01.jpg" alt="Mushtari Preview" class="project-thumbnail">
          <div>
            <h3>Mushtari</h3>
            <div class="project-meta">MIT Media Lab • 2013-2015</div>
          </div>
        </div>
        <span class="expand-button">+</span>
      </div>
      
      <div class="project-content">
        <p>A project exploring the intersection of wearable technology and synthetic biology, Mushtari features 58 meters of internal fluid channels designed to host living organisms. The wearable functions as a microbial factory, using synthetic biology to convert sunlight into useful products through a symbiotic relationship between photosynthetic microbes and compatible heterotrophs. Created using generative growth algorithms that mimic biological processes, the design was brought to life through innovative 3D printing techniques developed in collaboration with Stratasys. The project was directed by Neri Oxman and completed by the Mediated Matter Group at MIT, with Will Patrick as lead researcher.</p>
        
        <div class="carousel">
          <div class="carousel-container">
            <figure class="carousel-slide">
              <div class="video-wrapper">
                <iframe src="https://player.vimeo.com/video/131786000" 
                        width="100%" 
                        height="450" 
                        frameborder="0" 
                        allow="autoplay; fullscreen; picture-in-picture" 
                        allowfullscreen>
                </iframe>
              </div>
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/mushtari/mushtari-01.jpg" alt="Mushtari Full View" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/mushtari/mushtari-02.jpg" alt="Mushtari Detail" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/mushtari/mushtari-03.jpg" alt="Design Process" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/mushtari/mushtari-04.jpg" alt="Construction Detail" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/mushtari/mushtari-05.jpg" alt="Final Installation" class="carousel-image" />
            </figure>
          </div>
          <button class="carousel-button prev" onclick="moveCarousel(-1, this)">❮</button>
          <button class="carousel-button next" onclick="moveCarousel(1, this)">❯</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </article>
  </section>

  <!-- Structural Section -->
  <section id="structural" class="project-section">
    <h2>Structural</h2>

    <!-- Santa Cruz Mountains Communal Structure -->
    <article class="project-entry">
      <div class="project-header" onclick="toggleProject(this)">
        <div class="header-content">
          <img src="/assets/images/projects/communal-structure/communal-structure-01.jpg" alt="Communal Structure Preview" class="project-thumbnail">
          <div>
            <h3>Communal Structure</h3>
            <div class="project-meta">Santa Cruz Mountains • 2022-2025</div>
          </div>
        </div>
        <span class="expand-button">+</span>
      </div>
      
      <div class="project-content">
        <p>Together with eight friends, I co-own a 30-acre property nestled in the redwoods. We're building a 1,200-square-foot communal structure that will serve as a shared kitchen and gathering space. The project embodies our vision of creating a place where we can spend quality time together, work on creative projects, and enjoy the spectacular natural setting. Since 2022, we've been designing, engineering, and constructing the building ourselves, recently completing the exterior work. This space represents our commitment to collaborative building and maintaining a connection to California's remarkable landscape.</p>
        
        <div class="carousel">
          <div class="carousel-container">
            <figure class="carousel-slide">
              <img src="/assets/images/projects/communal-structure/communal-structure-01.jpg" alt="Structure Overview" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/communal-structure/communal-structure-02.jpg" alt="Construction Process" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/communal-structure/communal-structure-03.jpg" alt="Site Location" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/communal-structure/communal-structure-04.jpg" alt="Building Progress" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/communal-structure/communal-structure-05.jpg" alt="Structural Details" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/communal-structure/communal-structure-06.jpg" alt="Interior Work" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/communal-structure/communal-structure-07.jpg" alt="Construction Team" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/communal-structure/communal-structure-08.jpg" alt="Site Context" class="carousel-image" />
            </figure>
          </div>
          <button class="carousel-button prev" onclick="moveCarousel(-1, this)">❮</button>
          <button class="carousel-button next" onclick="moveCarousel(1, this)">❯</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </article>
  </section>

  <!-- Research Section -->
  <section id="research" class="project-section">
    <h2>Research</h2>

    <!-- 3D Printed Microfluidics -->
    <article class="project-entry">
      <div class="project-header" onclick="toggleProject(this)">
        <div class="header-content">
          <img src="/assets/images/projects/microfluidics/microfluidics-01.jpg" alt="Microfluidics Preview" class="project-thumbnail">
          <div>
            <h3>3D Printed Microfluidics</h3>
            <div class="project-meta">MIT Media Lab • 2013-2015</div>
          </div>
        </div>
        <span class="expand-button">+</span>
      </div>
      
      <div class="project-content">
        <p>Demonstrated new techniques for manufacturing microfluidic consumables using commercial 3D-printers. We achieved reactions in volumes as small as 490 nL with channel widths of 220 micrometers, while keeping per-unit microfluidic consumable costs between $0.61 and $5.71. This approach demonstrated how commodity digital fabrication tools could democratize production of microfluidic hardware. Read the full <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0143636">publication</a>.</p>
        
        <div class="carousel">
          <div class="carousel-container">
            <figure class="carousel-slide">
              <img src="/assets/images/projects/microfluidics/microfluidics-01.jpg" alt="Microfluidic Device" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/microfluidics/microfluidics-02.jpg" alt="Printing Process" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/microfluidics/microfluidics-03.jpg" alt="Testing Setup" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/microfluidics/microfluidics-04.jpg" alt="Device Detail" class="carousel-image" />
            </figure>
          </div>
          <button class="carousel-button prev" onclick="moveCarousel(-1, this)">❮</button>
          <button class="carousel-button next" onclick="moveCarousel(1, this)">❯</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </article>

    <!-- 3D Printed Multimaterial Valve -->
    <article class="project-entry">
      <div class="project-header" onclick="toggleProject(this)">
        <div class="header-content">
          <img src="/assets/images/projects/multimaterial-valve/valve-01.jpg" alt="Multimaterial Valve Preview" class="project-thumbnail">
          <div>
            <h3>3D Printed Multimaterial Valve</h3>
            <div class="project-meta">MIT Media Lab • 2013-2015</div>
          </div>
        </div>
        <span class="expand-button">+</span>
      </div>
      
      <div class="project-content">
        <p>Led by Steven Keating, this project pioneered the development of multimaterial 3D printed microfluidic valves that combine rigid and flexible materials in a single print. We demonstrated a novel valve design where a flexible membrane, sandwiched between stiff flow and control channels, could be deformed under pressure to regulate fluid flow. This work enabled programmable fluid routing within 3D printed microfluidic devices, advancing beyond single-material limitations of previous approaches. The research was conducted in collaboration with Isabella Gariboldi, Will Patrick, Prof. Neri Oxman, and David Kong of MIT Lincoln Laboratory. Read the full <a href="https://journals.plos.org/plosone/article?id=10.1371%2Fjournal.pone.0160624">publication</a>.</p>
        
        <div class="carousel">
          <div class="carousel-container">
            <figure class="carousel-slide">
              <img src="/assets/images/projects/multimaterial-valve/valve-01.jpg" alt="Multimaterial Valve Overview" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/multimaterial-valve/valve-02.jpg" alt="Valve Construction" class="carousel-image" />
            </figure>
            <figure class="carousel-slide">
              <img src="/assets/images/projects/multimaterial-valve/valve-03.jpg" alt="Valve Testing" class="carousel-image" />
            </figure>
          </div>
          <button class="carousel-button prev" onclick="moveCarousel(-1, this)">❮</button>
          <button class="carousel-button next" onclick="moveCarousel(1, this)">❯</button>
          <div class="carousel-dots"></div>
        </div>
      </div>
    </article>
  </section>
</div>

<style>
.projects-container {
  max-width: 800px;
  margin: 0 auto;
}

.projects-nav {
  position: sticky;
  top: 0;
  background: #f8f8f8;
  margin: 0;
  padding: 15px 0;
  border-bottom: 1px solid #ddd;
  z-index: 1000;
  display: flex;
  justify-content: flex-start;
  gap: 30px;
  max-width: 800px;
  margin: 0 auto;
  padding-left: 20px;
  margin-bottom: 30px;
  width: 100%;
  overflow-x: auto;  /* Allow horizontal scroll on mobile if needed */
  -webkit-overflow-scrolling: touch;  /* Smooth scroll on iOS */
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .projects-nav {
    padding-left: 10px;
    padding-right: 10px;
    gap: 20px;
    font-size: 0.9em;
  }
}

.projects-nav .nav-link {
  text-decoration: none;
  color: #666;
  padding: 5px 0;
  transition: color 0.2s;
  position: relative;
}

.projects-nav .nav-link:hover {
  color: #333;
}

.projects-nav .nav-link::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 2px;
  bottom: 0;
  left: 0;
  background-color: #333;
  transform: scaleX(0);
  transition: transform 0.2s;
}

.projects-nav .nav-link:hover::after {
  transform: scaleX(1);
}

.project-section:first-of-type {
  padding-top: 0;
}

.project-section {
  margin: 40px 0;
}

.project-entry {
  margin: 20px 0;
  border: 1px solid #eee;
  border-radius: 4px;
}

.project-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  cursor: pointer;
  border-bottom: 1px solid #ddd;
}

.header-content {
  display: flex;
  align-items: center;
  gap: 20px;  /* Space between thumbnail and text */
  flex: 1;
}

.project-thumbnail {
  width: 100px;  /* Adjust size as needed */
  height: 70px;  /* Adjust size as needed */
  object-fit: cover;
  border-radius: 4px;
}

.project-content {
  display: none;
  padding: 15px;
}

.project-content.active {
  display: block;
}

.project-images {
  margin: 20px 0;
}

.project-images img {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.expand-button {
  font-size: 24px;
  color: #666;
}

.carousel {
  position: relative;
  width: 100%;
  margin: 20px 0;
  overflow: hidden;
}

.carousel-container {
  display: flex;
  transition: transform 0.5s ease-in-out;
  width: 100%;
}

.carousel-image {
  width: 100%;
  display: block;
  border-radius: 4px 4px 0 0;  /* Rounded corners only on top */
}

.carousel-button {
  position: absolute;
  top: 20px;
  transform: none;
  background: rgba(0, 0, 0, 0.5);
  color: white;
  border: none;
  padding: 16px;
  cursor: pointer;
  border-radius: 4px;
  font-size: 18px;
  z-index: 2;
}

.carousel-button:hover {
  background: rgba(0, 0, 0, 0.7);
}

.prev {
  left: 10px;
}

.next {
  right: 10px;
}

.carousel-dots {
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 8px;
}

.dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  cursor: pointer;
}

.dot.active {
  background: white;
}

.carousel-slide {
  flex: 0 0 100%;
  margin: 0;
  position: relative;
}

.project-meta {
  font-size: 0.9em;
  color: #666;
  margin-top: 4px;
}

.header-content {
  flex: 1;
}

.header-content h3 {
  margin: 0;
}

h1.page-title {
  margin-top: 60px;  /* Add space above the title */
}

.home {
  margin-top: 60px;
}

.post-header {
  margin-top: 30px;
}

.post-title {
  margin-top: 0;
}

/* Add scroll margin to section headings */
[id] {
  scroll-margin-top: 70px;  /* Height of nav (including padding) + some extra space */
}

.video-wrapper {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
  height: 0;
  overflow: hidden;
  max-width: 100%;
}

.video-wrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 4px;
}
</style>

<script>
let carousels = new Map();

function initCarousel(carouselElement) {
  const slides = carouselElement.querySelectorAll('.carousel-slide');
  const dotsContainer = carouselElement.querySelector('.carousel-dots');
  const carouselId = `carousel-${Date.now()}-${Math.random()}`;
  
  carousels.set(carouselId, {
    currentSlide: 0,
    element: carouselElement,
    slides: slides
  });
  
  // Clear and create dots
  dotsContainer.innerHTML = '';
  slides.forEach((_, i) => {
    const dot = document.createElement('span');
    dot.className = 'dot';
    dot.onclick = () => goToSlide(carouselId, i);
    dotsContainer.appendChild(dot);
  });
  
  carouselElement.dataset.carouselId = carouselId;
  updateDots(carouselId);
}

function moveCarousel(direction, button) {
  const carousel = button.closest('.carousel');
  const carouselId = carousel.dataset.carouselId;
  if (!carouselId || !carousels.has(carouselId)) return;
  
  const state = carousels.get(carouselId);
  state.currentSlide = (state.currentSlide + direction + state.slides.length) % state.slides.length;
  updateCarousel(carouselId);
}

function goToSlide(carouselId, slideIndex) {
  if (!carousels.has(carouselId)) return;
  const state = carousels.get(carouselId);
  state.currentSlide = slideIndex;
  updateCarousel(carouselId);
}

function updateCarousel(carouselId) {
  const state = carousels.get(carouselId);
  if (!state) return;
  
  const container = state.element.querySelector('.carousel-container');
  container.style.transform = `translateX(-${state.currentSlide * 100}%)`;
  updateDots(carouselId);
}

function updateDots(carouselId) {
  const state = carousels.get(carouselId);
  if (!state) return;
  
  const dots = state.element.querySelectorAll('.dot');
  dots.forEach((dot, i) => {
    dot.classList.toggle('active', i === state.currentSlide);
  });
}

function toggleProject(header) {
  const content = header.nextElementSibling;
  const button = header.querySelector('.expand-button');
  
  if (content.classList.contains('active')) {
    content.classList.remove('active');
    button.textContent = '+';
  } else {
    content.classList.add('active');
    button.textContent = '−';
    // Initialize carousel when project is opened
    const carousel = content.querySelector('.carousel');
    if (carousel && !carousel.dataset.carouselId) {
      setTimeout(() => initCarousel(carousel), 0);
    }
  }
}

// Initialize all carousels in expanded projects on page load
document.addEventListener('DOMContentLoaded', function() {
  const activeProjects = document.querySelectorAll('.project-content.active');
  activeProjects.forEach(content => {
    const carousel = content.querySelector('.carousel');
    if (carousel && !carousel.dataset.carouselId) {
      initCarousel(carousel);
    }
  });
});
</script>